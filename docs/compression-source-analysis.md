# 이미지 압축률 원인 분석

## 🔍 현재 이미지 상태
- **파일**: 얼굴정면1.png (실제로는 JPEG)
- **픽셀당 바이트**: 0.23 (매우 낮음)
- **일반적인 JPEG**: 0.5~2.0 바이트/픽셀

## ❓ 압축률이 있는 이유

### 1. 원본 이미지 자체가 이미 압축된 상태 ⚠️
**가장 가능성 높은 원인:**

#### 카메라/앱 설정
- 스마트폰 카메라가 **자동으로 압축**하여 저장
- "공간 절약" 모드 활성화
- 기본 JPEG 품질이 낮게 설정됨

#### 이미지 편집 과정
- 여러 번 저장/편집하면서 **압축 누적**
- JPEG는 손실 압축이므로 재저장할 때마다 품질 저하

#### 소셜 미디어/웹 다운로드
- 인스타그램, 카카오톡 등에서 다운로드한 이미지
- 웹사이트에서 다운로드한 이미지 (최적화된 버전)

### 2. 현재 시스템의 압축 처리

#### ✅ 업로드 시 (AI 분석용)
```typescript
// useImageUpload.ts (110-111줄)
// AI 분석 정확도 보장: 원본 이미지 업로드 (최적화 없음)
// 원본 그대로 업로드 - 압축 없음
```
**결론**: 업로드 시에는 **압축하지 않습니다**.

#### ✅ 카메라 촬영 시
```typescript
// useCameraCapture.ts (171줄)
canvas.toDataURL('image/jpeg', 0.9)  // 품질 0.9 (90%)
```
**결론**: 앱 내 카메라로 촬영 시 품질 0.9로 저장 (충분히 높음).

#### ⚠️ 저장 시 (히스토리용)
```typescript
// useAnalysisSave.ts (63줄)
quality: 0.85  // 저장용은 약간 낮은 품질로 충분
```
**결론**: 히스토리 저장용으로만 리사이즈 (AI 분석에는 원본 사용).

## 📊 압축률 비교표

| 상황 | 품질 | 픽셀당 바이트 | 비고 |
|------|------|--------------|------|
| **현재 이미지** | 매우 낮음 | **0.23** | 원본이 이미 압축됨 |
| 앱 카메라 촬영 | 높음 (0.9) | 0.8-1.5 | 충분한 품질 |
| 히스토리 저장 | 보통 (0.85) | 0.5-0.8 | 저장용만 |
| AI 분석용 | 원본 | - | 압축 없음 |

## 💡 결론

### 압축률이 있는 이유
1. **원본 이미지 자체가 이미 압축된 상태** (가장 가능성 높음)
2. 시스템은 업로드 시 압축하지 않음
3. 카메라 촬영 시 품질 0.9 사용 (충분함)

### 해결 방법
1. **앱 내 카메라로 직접 촬영** (권장)
   - 품질 0.9로 저장되어 충분한 품질 보장
   
2. **카메라 앱 설정 확인**
   - "최고 품질" 또는 "원본" 설정 사용
   - "공간 절약" 모드 비활성화

3. **이미지 편집 최소화**
   - 여러 번 저장/편집하지 않기
   - PNG 형식 사용 (무손실)

**현재 이미지의 압축률은 시스템이 아닌 원본 이미지 자체의 문제입니다.**

